{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/main.js"],"sourcesContent":["\nconst API_KEY = '46111886-e1974f40af7d3aa808257f9c9';\n\nexport const fetchImages = (query) => {\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    \n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                throw new Error('No images found');\n            }\n            return data.hits;\n        })\n        .catch(error => {\n            console.error(error);\n            throw error; \n        });\n};\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\n\nexport const renderImages = (images) => {\n    const gallery = document.querySelector('.gallery');\n\n    // Очищаємо галерею перед новим рендерингом\n    gallery.innerHTML = '';\n\n    const markup = images\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n            <li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                    <div class=\"info\">\n                        <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n                        <p class=\"info-item\"><b>Views:</b> ${views}</p>\n                        <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n                        <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n                    </div>\n                </a>\n            </li>\n        `)\n        .join('');\n  \n    gallery.insertAdjacentHTML('beforeend', markup);\n};\n\nexport const showError = (message) => {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight',\n        timeout: 2000,\n        backgroundColor: '#EF4040', // Кольоровий код у рядковому форматі\n        closeOnClick: true,\n    });\n};\n\n","import { fetchImages } from './pixabay-api.js';\nimport { renderImages, showError } from './render-functions.js';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('#loader');\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\n// обробка поді�� submit форми пошуку\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    // отримання запиту, отримує значення з поля вводу. якщо поле порожнє, викликає функцію showError.\n    const query = event.target.elements.query.value.trim();\n    if (!query) {\n        // Ховаємо завантаження, якщо запит порожній\n        showError('Please enter a search term.');\n        loader.style.display = 'none';\n        return;\n    }\n\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n    // запит до API\n    fetchImages(query)\n        .then(images => {\n            console.log('Images received', images);\n            if (images.length === 0) {\n                showError('Sorry, there are no images matching your search query. Please try again!');\n            } else {\n                renderImages(images);\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.log('Error:', error)\n            showError(error.message);\n        })\n        .finally(() => {\n            setTimeout(() => {\n                loader.style.display = 'none';\n                // Ховаємо завантаження в кінці\n            }, 0.5);\n        });\n});\n\n"],"names":["API_KEY","fetchImages","query","url","response","data","error","renderImages","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showError","message","iziToast","form","loader","lightbox","SimpleLightbox","event"],"mappings":"6vBACA,MAAMA,EAAU,qCAEHC,EAAeC,GAAU,CAClC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBAAmBE,CAAK,CAAC,2DAElF,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrB,MAAM,IAAI,MAAM,iBAAiB,EAErC,OAAOA,EAAK,IACxB,CAAS,EACA,MAAMC,GAAS,CACZ,cAAQ,MAAMA,CAAK,EACbA,CAClB,CAAS,CACT,EClBaC,EAAgBC,GAAW,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAGjDA,EAAQ,UAAY,GAEpB,MAAMC,EAASF,EACV,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,2BAEhEL,CAAa;AAAA,sDACcD,CAAY,UAAUE,CAAI;AAAA;AAAA,6DAEnBC,CAAK;AAAA,6DACLC,CAAK;AAAA,gEACFC,CAAQ;AAAA,iEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAIjE,EACA,KAAK,EAAE,EAEZR,EAAQ,mBAAmB,YAAaC,CAAM,CAClD,EAEaQ,EAAaC,GAAY,CAClCC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,WACV,QAAS,IACT,gBAAiB,UACjB,aAAc,EACtB,CAAK,CACL,EC/BME,EAAO,SAAS,cAAc,cAAc,EAC5CZ,EAAU,SAAS,cAAc,UAAU,EAC3Ca,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,YAAY,EAGhDH,EAAK,iBAAiB,SAAWI,GAAU,CACvCA,EAAM,eAAc,EAGpB,MAAMvB,EAAQuB,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAI,CAACvB,EAAO,CAERgB,EAAU,6BAA6B,EACvCI,EAAO,MAAM,QAAU,OACvB,MACH,CAEDA,EAAO,MAAM,QAAU,QACvBb,EAAQ,UAAY,GAGpBR,EAAYC,CAAK,EACZ,KAAKM,GAAU,CACZ,QAAQ,IAAI,kBAAmBA,CAAM,EACjCA,EAAO,SAAW,EAClBU,EAAU,0EAA0E,GAEpFX,EAAaC,CAAM,EACnBe,EAAS,QAAO,EAEhC,CAAS,EACA,MAAMjB,GAAS,CACZ,QAAQ,IAAI,SAAUA,CAAK,EAC3BY,EAAUZ,EAAM,OAAO,CACnC,CAAS,EACA,QAAQ,IAAM,CACX,WAAW,IAAM,CACbgB,EAAO,MAAM,QAAU,MAE1B,EAAE,EAAG,CAClB,CAAS,CACT,CAAC"}